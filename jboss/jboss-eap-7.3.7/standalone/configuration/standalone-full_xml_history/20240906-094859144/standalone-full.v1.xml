<server xmlns="urn:jboss:domain:11.0">
  <extensions>
    <extension module="org.jboss.as.connector" />
    <extension module="org.jboss.as.deployment-scanner" />
    <extension module="org.jboss.as.ee" />
    <extension module="org.jboss.as.ejb3" />
    <extension module="org.jboss.as.jaxrs" />
    <extension module="org.jboss.as.jdr" />
    <extension module="org.jboss.as.jmx" />
    <extension module="org.jboss.as.jpa" />
    <extension module="org.jboss.as.jsf" />
    <extension module="org.jboss.as.jsr77" />
    <extension module="org.jboss.as.logging" />
    <extension module="org.jboss.as.mail" />
    <extension module="org.jboss.as.naming" />
    <extension module="org.jboss.as.pojo" />
    <extension module="org.jboss.as.remoting" />
    <extension module="org.jboss.as.sar" />
    <extension module="org.jboss.as.security" />
    <extension module="org.jboss.as.transactions" />
    <extension module="org.jboss.as.webservices" />
    <extension module="org.jboss.as.weld" />
    <extension module="org.wildfly.extension.batch.jberet" />
    <extension module="org.wildfly.extension.bean-validation" />
    <extension module="org.wildfly.extension.clustering.singleton" />
    <extension module="org.wildfly.extension.core-management" />
    <extension module="org.wildfly.extension.discovery" />
    <extension module="org.wildfly.extension.ee-security" />
    <extension module="org.wildfly.extension.elytron" />
    <extension module="org.wildfly.extension.io" />
    <extension module="org.wildfly.extension.messaging-activemq" />
    <extension module="org.wildfly.extension.microprofile.config-smallrye" />
    <extension module="org.wildfly.extension.microprofile.health-smallrye" />
    <extension module="org.wildfly.extension.microprofile.metrics-smallrye" />
    <extension module="org.wildfly.extension.microprofile.opentracing-smallrye" />
    <extension module="org.wildfly.extension.request-controller" />
    <extension module="org.wildfly.extension.security.manager" />
    <extension module="org.wildfly.extension.undertow" />
    <extension module="org.wildfly.iiop-openjdk" />
  </extensions>
  <system-properties>
    <property name="com.arjuna.ats.arjuna.allowMultipleLastResources" value="true" />
  </system-properties>
  <management>
    <security-realms>
      <security-realm name="ManagementRealm">
        <authentication>
          <local default-user="$local" skip-group-loading="true" />
          <properties path="mgmt-users.properties" relative-to="jboss.server.config.dir" />
        </authentication>
        <authorization map-groups-to-roles="false">
          <properties path="mgmt-groups.properties" relative-to="jboss.server.config.dir" />
        </authorization>
      </security-realm>
      <security-realm name="ApplicationRealm">
        <server-identities>
          <ssl>
            <keystore path="application.keystore" relative-to="jboss.server.config.dir" keystore-password="password" alias="server" key-password="password" generate-self-signed-certificate-host="localhost" />
          </ssl>
        </server-identities>
        <authentication>
          <local default-user="$local" allowed-users="*" skip-group-loading="true" />
          <properties path="application-users.properties" relative-to="jboss.server.config.dir" />
        </authentication>
        <authorization>
          <properties path="application-roles.properties" relative-to="jboss.server.config.dir" />
        </authorization>
      </security-realm>
    </security-realms>
    <audit-log>
      <formatters>
        <json-formatter name="json-formatter" />
      </formatters>
      <handlers>
        <file-handler name="file" formatter="json-formatter" path="audit-log.log" relative-to="jboss.server.data.dir" />
      </handlers>
      <logger log-boot="true" log-read-only="false" enabled="false">
        <handlers>
          <handler name="file" />
        </handlers>
      </logger>
    </audit-log>
    <management-interfaces>
      <native-interface security-realm="ManagementRealm">
        <socket-binding native="management-native" />
      </native-interface>
      <http-interface security-realm="ManagementRealm">
        <http-upgrade enabled="true" />
        <socket-binding http="management-http" />
      </http-interface>
    </management-interfaces>
    <access-control provider="simple">
      <role-mapping>
        <role name="SuperUser">
          <include>
            <user name="$local" />
          </include>
        </role>
      </role-mapping>
    </access-control>
  </management>
  <profile>
    <subsystem xmlns="urn:jboss:domain:batch-jberet:2.0">
      <default-job-repository name="in-memory" />
      <default-thread-pool name="batch" />
      <job-repository name="in-memory">
        <in-memory />
      </job-repository>
      <thread-pool name="batch">
        <max-threads count="10" />
        <keepalive-time time="30" unit="seconds" />
      </thread-pool>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:bean-validation:1.0" />
    <subsystem xmlns="urn:jboss:domain:core-management:1.0" />
    <subsystem xmlns="urn:jboss:domain:datasources:5.0">
      <datasources>
        <datasource jta="true" jndi-name="java:/titaniumDataSource" pool-name="titaniumDataSource" enabled="true" use-java-context="true" use-ccm="false">
          <connection-url>${env.TITANIUM_DB_URL:jdbc:sqlserver://localhost:1433;databaseName=titanium;integratedSecurity=false;sendStringParametersAsUnicode=false;encrypt=true;trustServerCertificate=true}</connection-url>
          <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>
          <driver>titanium-2023.10.0.jar</driver>
          <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
          <pool>
            <min-pool-size>1</min-pool-size>
            <max-pool-size>100</max-pool-size>
            <prefill>false</prefill>
            <use-strict-min>false</use-strict-min>
            <flush-strategy>FailingConnectionOnly</flush-strategy>
          </pool>
          <security>
            <user-name>${env.TITANIUM_DB_USERNAME:sa}</user-name>
            <password>${env.TITANIUM_DB_PASSWORD:default}</password>
          </security>
        </datasource>
        <datasource jta="true" jndi-name="java:/productCopyDataSource" pool-name="sqlServerRemoteDataSource" enabled="true" use-java-context="true" use-ccm="false">
          <connection-url>${env.TITANIUM_PRODUCT_COPY_DB_URL:${env.TITANIUM_DB_URL:jdbc:sqlserver://localhost:1433;databaseName=titanium;integratedSecurity=false;sendStringParametersAsUnicode=false;encrypt=true;trustServerCertificate=true}}</connection-url>
          <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>
          <driver>titanium-2023.10.0.jar</driver>
          <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
          <pool>
            <min-pool-size>1</min-pool-size>
            <max-pool-size>300</max-pool-size>
            <prefill>false</prefill>
            <use-strict-min>false</use-strict-min>
            <flush-strategy>FailingConnectionOnly</flush-strategy>
          </pool>
          <security>
            <user-name>${env.TITANIUM_DB_USERNAME:sa}</user-name>
            <password>${env.TITANIUM_DB_PASSWORD:default}</password>
          </security>
        </datasource>
        <datasource jta="true" jndi-name="java:/hamrDataSource" pool-name="hamrDataSource" enabled="true" use-java-context="true" use-ccm="false">
          <connection-url>${env.HAMR_DB_URL:jdbc:sqlserver://localhost:1433;databaseName=hamr;integratedSecurity=false;sendStringParametersAsUnicode=false;encrypt=true;trustServerCertificate=true}</connection-url>
          <driver-class>${env.HAMR_DB_DRIVER:com.microsoft.sqlserver.jdbc.SQLServerDriver}</driver-class>
          <driver>titanium-2023.10.0.jar</driver>
          <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
          <pool>
            <min-pool-size>1</min-pool-size>
            <max-pool-size>300</max-pool-size>
            <prefill>false</prefill>
            <use-strict-min>false</use-strict-min>
            <flush-strategy>FailingConnectionOnly</flush-strategy>
          </pool>
          <security>
            <user-name>${env.HAMR_DB_USERNAME:sa}</user-name>
            <password>${env.HAMR_DB_PASSWORD:default}</password>
          </security>
        </datasource>
      </datasources>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:deployment-scanner:2.0">
      <deployment-scanner path="deployments" relative-to="jboss.server.base.dir" scan-interval="5000" deployment-timeout="6000" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:discovery:1.0" />
    <subsystem xmlns="urn:jboss:domain:ee:4.0">
      <spec-descriptor-property-replacement>false</spec-descriptor-property-replacement>
      <jboss-descriptor-property-replacement>true</jboss-descriptor-property-replacement>
      <annotation-property-replacement>false</annotation-property-replacement>
      <concurrent>
        <context-services>
          <context-service name="default" jndi-name="java:jboss/ee/concurrency/context/default" use-transaction-setup-provider="true" />
        </context-services>
        <managed-thread-factories>
          <managed-thread-factory name="default" jndi-name="java:jboss/ee/concurrency/factory/default" context-service="default" priority="5" />
        </managed-thread-factories>
        <managed-executor-services>
          <managed-executor-service name="default" jndi-name="java:jboss/ee/concurrency/executor/default" context-service="default" hung-task-threshold="60000" long-running-tasks="false" keepalive-time="5000" reject-policy="ABORT" />
        </managed-executor-services>
        <managed-scheduled-executor-services>
          <managed-scheduled-executor-service name="default" jndi-name="java:jboss/ee/concurrency/scheduler/default" context-service="default" hung-task-threshold="60000" long-running-tasks="false" keepalive-time="3000" reject-policy="ABORT" />
        </managed-scheduled-executor-services>
      </concurrent>
      <default-bindings context-service="java:jboss/ee/concurrency/context/default" datasource="java:/titaniumDataSource" managed-executor-service="java:jboss/ee/concurrency/executor/default" managed-scheduled-executor-service="java:jboss/ee/concurrency/scheduler/default" managed-thread-factory="java:jboss/ee/concurrency/factory/default" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:ee-security:1.0" />
    <subsystem xmlns="urn:jboss:domain:ejb3:6.0">
      <session-bean>
        <stateless>
          <bean-instance-pool-ref pool-name="slsb-strict-max-pool" />
        </stateless>
        <stateful default-access-timeout="5000" cache-ref="simple" passivation-disabled-cache-ref="simple" />
        <singleton default-access-timeout="5000" />
      </session-bean>
      <mdb>
        <resource-adapter-ref resource-adapter-name="${ejb.resource-adapter-name:activemq-ra.rar}" />
        <bean-instance-pool-ref pool-name="mdb-strict-max-pool" />
      </mdb>
      <pools>
        <bean-instance-pools>
          <strict-max-pool name="bg-master-pool" max-pool-size="1" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adma-process-pool" max-pool-size="10" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admb-process-pool" max-pool-size="10" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admc-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admd-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admf-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admg-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admh-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admj-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admk-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adml-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admn-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admp-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admq-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admr-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adms-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adna-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnb-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnc-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnd-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnf-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnk-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnp-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnr-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adma-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admb-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admc-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admd-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admf-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admg-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admh-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admj-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admk-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adml-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admn-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admp-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admq-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="admr-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adms-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adna-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnb-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnc-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnd-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnf-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnk-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnp-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="adnr-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="conv-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="mdb-strict-max-pool" max-pool-size="20" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="prop-process-pool" max-pool-size="${env.TITANIUM_PROP_MAX_POOL_SIZE:10}" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="prop-msg-pool" max-pool-size="1" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="qmain-pool" max-pool-size="20" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="cmpy-close-process-pool" max-pool-size="1" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="rwrw-process-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="rwrw-monitor-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="rwrw-msg-pool" max-pool-size="1" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="slsb-strict-max-pool" max-pool-size="100" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="test-process-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="test-msg-pool" max-pool-size="1" instance-acquisition-timeout="10" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="ttrn-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="plugin-pool" max-pool-size="1" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
          <strict-max-pool name="bg-reschedule-pool" max-pool-size="10" instance-acquisition-timeout="60" instance-acquisition-timeout-unit="MINUTES" />
        </bean-instance-pools>
      </pools>
      <caches>
        <cache name="simple" aliases="NoPassivationCache" />
      </caches>
      <async thread-pool-name="default" />
      <timer-service thread-pool-name="default" default-data-store="default-file-store">
        <data-stores>
          <file-data-store name="default-file-store" path="timer-service-data" relative-to="jboss.server.data.dir" />
        </data-stores>
      </timer-service>
      <remote connector-ref="http-remoting-connector" thread-pool-name="default" execute-in-worker="false" />
      <thread-pools>
        <thread-pool name="default">
          <max-threads count="30" />
          <keepalive-time time="100" unit="milliseconds" />
        </thread-pool>
      </thread-pools>
      <iiop enable-by-default="false" use-qualified-name="false" />
      <default-security-domain value="other" />
      <default-missing-method-permissions-deny-access value="true" />
    </subsystem>
    <subsystem xmlns="urn:wildfly:elytron:8.0" final-providers="combined-providers" disallowed-providers="OracleUcrypto">
      <providers>
        <aggregate-providers name="combined-providers">
          <providers name="elytron" />
          <providers name="openssl" />
        </aggregate-providers>
        <provider-loader name="elytron" module="org.wildfly.security.elytron" />
        <provider-loader name="openssl" module="org.wildfly.openssl" />
      </providers>
      <audit-logging>
        <file-audit-log name="local-audit" path="audit.log" relative-to="jboss.server.log.dir" format="JSON" />
      </audit-logging>
      <security-domains>
        <security-domain name="ApplicationDomain" default-realm="ApplicationRealm" permission-mapper="default-permission-mapper">
          <realm name="ApplicationRealm" role-decoder="groups-to-roles" />
          <realm name="local" />
        </security-domain>
        <security-domain name="ManagementDomain" default-realm="ManagementRealm" permission-mapper="default-permission-mapper">
          <realm name="ManagementRealm" role-decoder="groups-to-roles" />
          <realm name="local" role-mapper="super-user-mapper" />
        </security-domain>
      </security-domains>
      <security-realms>
        <identity-realm name="local" identity="$local" />
        <properties-realm name="ApplicationRealm">
          <users-properties path="application-users.properties" relative-to="jboss.server.config.dir" digest-realm-name="ApplicationRealm" />
          <groups-properties path="application-roles.properties" relative-to="jboss.server.config.dir" />
        </properties-realm>
        <properties-realm name="ManagementRealm">
          <users-properties path="mgmt-users.properties" relative-to="jboss.server.config.dir" digest-realm-name="ManagementRealm" />
          <groups-properties path="mgmt-groups.properties" relative-to="jboss.server.config.dir" />
        </properties-realm>
      </security-realms>
      <mappers>
        <simple-permission-mapper name="default-permission-mapper" mapping-mode="first">
          <permission-mapping>
            <principal name="anonymous" />
            <permission-set name="default-permissions" />
          </permission-mapping>
          <permission-mapping match-all="true">
            <permission-set name="login-permission" />
            <permission-set name="default-permissions" />
          </permission-mapping>
        </simple-permission-mapper>
        <constant-realm-mapper name="local" realm-name="local" />
        <simple-role-decoder name="groups-to-roles" attribute="groups" />
        <constant-role-mapper name="super-user-mapper">
          <role name="SuperUser" />
        </constant-role-mapper>
      </mappers>
      <permission-sets>
        <permission-set name="login-permission">
          <permission class-name="org.wildfly.security.auth.permission.LoginPermission" />
        </permission-set>
        <permission-set name="default-permissions">
          <permission class-name="org.wildfly.extension.batch.jberet.deployment.BatchPermission" module="org.wildfly.extension.batch.jberet" target-name="*" />
          <permission class-name="org.wildfly.transaction.client.RemoteTransactionPermission" module="org.wildfly.transaction.client" />
          <permission class-name="org.jboss.ejb.client.RemoteEJBPermission" module="org.jboss.ejb-client" />
        </permission-set>
      </permission-sets>
      <http>
        <http-authentication-factory name="management-http-authentication" security-domain="ManagementDomain" http-server-mechanism-factory="global">
          <mechanism-configuration>
            <mechanism mechanism-name="DIGEST">
              <mechanism-realm realm-name="ManagementRealm" />
            </mechanism>
          </mechanism-configuration>
        </http-authentication-factory>
        <http-authentication-factory name="application-http-authentication" security-domain="ApplicationDomain" http-server-mechanism-factory="global">
          <mechanism-configuration>
            <mechanism mechanism-name="BASIC">
              <mechanism-realm realm-name="Application Realm" />
            </mechanism>
            <mechanism mechanism-name="FORM" />
          </mechanism-configuration>
        </http-authentication-factory>
        <provider-http-server-mechanism-factory name="global" />
      </http>
      <sasl>
        <sasl-authentication-factory name="management-sasl-authentication" sasl-server-factory="configured" security-domain="ManagementDomain">
          <mechanism-configuration>
            <mechanism mechanism-name="JBOSS-LOCAL-USER" realm-mapper="local" />
            <mechanism mechanism-name="DIGEST-MD5">
              <mechanism-realm realm-name="ManagementRealm" />
            </mechanism>
          </mechanism-configuration>
        </sasl-authentication-factory>
        <sasl-authentication-factory name="application-sasl-authentication" sasl-server-factory="configured" security-domain="ApplicationDomain">
          <mechanism-configuration>
            <mechanism mechanism-name="JBOSS-LOCAL-USER" realm-mapper="local" />
            <mechanism mechanism-name="DIGEST-MD5">
              <mechanism-realm realm-name="ApplicationRealm" />
            </mechanism>
          </mechanism-configuration>
        </sasl-authentication-factory>
        <configurable-sasl-server-factory name="configured" sasl-server-factory="elytron">
          <properties>
            <property name="wildfly.sasl.local-user.default-user" value="$local" />
          </properties>
        </configurable-sasl-server-factory>
        <mechanism-provider-filtering-sasl-server-factory name="elytron" sasl-server-factory="global">
          <filters>
            <filter provider-name="WildFlyElytron" />
          </filters>
        </mechanism-provider-filtering-sasl-server-factory>
        <provider-sasl-server-factory name="global" />
      </sasl>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:iiop-openjdk:2.1">
      <orb socket-binding="jacorb" ssl-socket-binding="jacorb-ssl" />
      <initializers security="identity" transactions="spec" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:io:3.0">
      <worker name="default" />
      <buffer-pool name="default" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:jaxrs:1.0" />
    <subsystem xmlns="urn:jboss:domain:jca:5.0">
      <archive-validation enabled="true" fail-on-error="true" fail-on-warn="false" />
      <bean-validation enabled="true" />
      <default-workmanager>
        <short-running-threads>
          <core-threads count="50" />
          <queue-length count="50" />
          <max-threads count="50" />
          <keepalive-time time="10" unit="seconds" />
        </short-running-threads>
        <long-running-threads>
          <core-threads count="50" />
          <queue-length count="50" />
          <max-threads count="50" />
          <keepalive-time time="10" unit="seconds" />
        </long-running-threads>
      </default-workmanager>
      <cached-connection-manager />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:jdr:1.0" />
    <subsystem xmlns="urn:jboss:domain:jmx:1.3">
      <expose-resolved-model />
      <expose-expression-model />
      <remoting-connector />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:jpa:1.1">
      <jpa default-datasource="" default-extended-persistence-inheritance="DEEP" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:jsf:1.1" />
    <subsystem xmlns="urn:jboss:domain:jsr77:1.0" />
    <subsystem xmlns="urn:jboss:domain:mail:3.0">
      <mail-session name="java:jboss/mail/Default" jndi-name="java:jboss/mail/Default">
        <smtp-server outbound-socket-binding-ref="mail-smtp" />
      </mail-session>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:messaging-activemq:8.0" />
    <subsystem xmlns="urn:wildfly:microprofile-config-smallrye:1.0" />
    <subsystem xmlns="urn:wildfly:microprofile-health-smallrye:2.0" security-enabled="false" empty-liveness-checks-status="${env.MP_HEALTH_EMPTY_LIVENESS_CHECKS_STATUS:UP}" empty-readiness-checks-status="${env.MP_HEALTH_EMPTY_READINESS_CHECKS_STATUS:UP}" />
    <subsystem xmlns="urn:wildfly:microprofile-metrics-smallrye:2.0" security-enabled="false" exposed-subsystems="*" prefix="${wildfly.metrics.prefix:jboss}" />
    <subsystem xmlns="urn:wildfly:microprofile-opentracing-smallrye:1.0" />
    <subsystem xmlns="urn:jboss:domain:naming:2.0">
      <remote-naming />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:pojo:1.0" />
    <subsystem xmlns="urn:jboss:domain:remoting:4.0">
      <connector name="remoting-connector" socket-binding="remoting" />
      <http-connector name="http-remoting-connector" connector-ref="http" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:request-controller:1.0" />
    <subsystem xmlns="urn:jboss:domain:resource-adapters:5.0" />
    <subsystem xmlns="urn:jboss:domain:sar:1.0" />
    <subsystem xmlns="urn:jboss:domain:security:2.0">
      <security-domains>
        <security-domain name="other" cache-type="default">
          <authentication>
            <login-module code="Remoting" flag="optional">
              <module-option name="password-stacking" value="useFirstPass" />
            </login-module>
            <login-module code="RealmDirect" flag="required">
              <module-option name="password-stacking" value="useFirstPass" />
            </login-module>
          </authentication>
        </security-domain>
        <security-domain name="jboss-web-policy" cache-type="default">
          <authorization>
            <policy-module code="Delegating" flag="required" />
          </authorization>
        </security-domain>
        <security-domain name="jboss-ejb-policy" cache-type="default">
          <authorization>
            <policy-module code="Delegating" flag="required" />
          </authorization>
        </security-domain>
        <security-domain name="encrypted-ds" cache-type="default">
          <authentication>
            <login-module code="org.picketbox.datasource.security.SecureIdentityLoginModule" flag="required">
              <module-option name="username" value="admin" />
              <module-option name="password" value="-3cad729332b02801207a6df87216de44" />
            </login-module>
          </authentication>
        </security-domain>
      </security-domains>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:security-manager:1.0">
      <deployment-permissions>
        <maximum-set>
          <permission class="java.security.AllPermission" />
        </maximum-set>
      </deployment-permissions>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:transactions:5.0">
      <core-environment>
        <process-id>
          <uuid />
        </process-id>
      </core-environment>
      <recovery-environment socket-binding="txn-recovery-environment" status-socket-binding="txn-status-manager" />
      <coordinator-environment default-timeout="6000" />
      <object-store relative-to="jboss.server.data.dir" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:undertow:10.0">
      <buffer-cache name="default" />
      <server name="default-server">
        <http-listener name="http" read-timeout="-1" write-timeout="-1" socket-binding="http" no-request-timeout="-1" redirect-socket="https" enable-http2="true" />
        <host name="default-host" alias="localhost,example.com">
          <location name="/" handler="welcome-content" />
          <http-invoker />
        </host>
      </server>
      <servlet-container name="default">
        <jsp-config />
        <websockets />
      </servlet-container>
      <handlers>
        <file name="welcome-content" path="${jboss.home.dir}/welcome-content" />
      </handlers>
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:webservices:2.0">
      <modify-wsdl-address>true</modify-wsdl-address>
      <wsdl-host>${jboss.bind.address:127.0.0.1}</wsdl-host>
      <endpoint-config name="Standard-Endpoint-Config" />
      <endpoint-config name="Recording-Endpoint-Config">
        <pre-handler-chain name="recording-handlers" protocol-bindings="##SOAP11_HTTP ##SOAP11_HTTP_MTOM ##SOAP12_HTTP ##SOAP12_HTTP_MTOM">
          <handler name="RecordingHandler" class="org.jboss.ws.common.invocation.RecordingServerHandler" />
        </pre-handler-chain>
      </endpoint-config>
      <client-config name="Standard-Client-Config" />
    </subsystem>
    <subsystem xmlns="urn:jboss:domain:weld:4.0" />
  </profile>
  <interfaces>
    <interface name="management">
      <inet-address value="${jboss.bind.address.management:127.0.0.1}" />
    </interface>
    <interface name="public">
      <inet-address value="${jboss.bind.address:127.0.0.1}" />
    </interface>
    <interface name="unsecure">
      <inet-address value="${jboss.bind.address.unsecure:127.0.0.1}" />
    </interface>
  </interfaces>
  <socket-binding-group name="standard-sockets" default-interface="public" port-offset="${jboss.socket.binding.port-offset:0}">
    <socket-binding name="ajp" port="${jboss.ajp.port:8009}" />
    <socket-binding name="http" port="${jboss.http.port:8080}" />
    <socket-binding name="https" port="${jboss.https.port:443}" />
    <socket-binding name="jacorb" interface="unsecure" port="3528" />
    <socket-binding name="jacorb-ssl" interface="unsecure" port="3529" />
    <socket-binding name="management-http" interface="management" port="${jboss.management.http.port:9990}" />
    <socket-binding name="management-https" interface="management" port="${jboss.management.https.port:9993}" />
    <socket-binding name="management-native" interface="management" port="${jboss.management.native.port:9999}" />
    <socket-binding name="messaging" port="${env.BROKER_PORT:61616}" />
    <socket-binding name="messaging-group" port="0" multicast-address="${jboss.messaging.group.address:231.7.7.7}" multicast-port="${jboss.messaging.group.port:9876}" />
    <socket-binding name="messaging-throughput" port="5455" />
    <socket-binding name="remoting" port="4447" />
    <socket-binding name="txn-recovery-environment" port="4712" />
    <socket-binding name="txn-status-manager" port="4713" />
    <outbound-socket-binding name="mail-smtp">
      <remote-destination host="127.0.0.1" port="25" />
    </outbound-socket-binding>
  </socket-binding-group>
</server>